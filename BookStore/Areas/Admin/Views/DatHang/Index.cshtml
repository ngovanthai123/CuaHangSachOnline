@model IEnumerable<BookStore.Models.DatHang>

@{
    ViewData["Title"] = "Index";
}

<h1 style="padding-top: 30px; text-align: center;">BẢNG ĐẶT HÀNG</h1>

<div class="table-responsive">
    @using Microsoft.AspNetCore.Http

    
    <table id="example1" class="table table-bordered table-striped" style="text-align:center">

        <thead>
            <tr style="background-color:cornflowerblue">
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.DienThoaiGiaoHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.DiaChiGiaoHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.NgayDatHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.TinhTrang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.KhachHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.NhanVien)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.DienThoaiGiaoHang)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DiaChiGiaoHang)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NgayDatHang)
                </td>
                <td>
                    @if (item.TinhTrang == 0)
                    {
                        <span>Đơn hàng mới</span>
                    }
                    else if (item.TinhTrang == 1)
                    {
                        <span>Đang xác nhận</span>
                    }
                    else if (item.TinhTrang == 2)
                    {
                        <span>Đã hủy</span>
                    }
                    else if (item.TinhTrang == 3)
                    {
                        <span>Đang đóng gói</span>
                    }
                    else if (item.TinhTrang == 4)
                    {
                        <span>Đang gởi vận chuyển</span>
                    }
                    else if (item.TinhTrang == 5)
                    {
                        <span>Đang chuyển</span>
                    }
                    else if (item.TinhTrang == 6)
                    {
                        <span>Thất bại</span>
                    }
                    else if (item.TinhTrang == 7)
                    {
                        <span>Đang chuyển hoàn</span>
                    }
                    else if (item.TinhTrang == 8)
                    {
                        <span>Đã chuyển hoàn</span>
                    }
                    else
                    {
                        <span>Thành công</span>
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.KhachHang.HoVaTen)
                </td>
                <td>
                    <img src="~/@Context.Session.GetString("_HinhAnh").ToLower()" style="width:50px; height:50px;" class="img-circle" alt="User Image">
                </td>
                <td>
                    <a asp-action="Edit" asp-route-id="@item.Id" style="color: #8809e8 "><i class="fa fa-edit"></i></a> |
                    <a href='@($"/Admin/DatHangChiTiet/Index?IdDonHang={item.Id}")'style="color: #8809e8 "><i class="fa fa-eye"></i></a> |
                    <a asp-action="Delete" asp-route-id="@item.Id"style="color: #8809e8 "><i class="fa fa-trash-o"></i></a>
                </td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr style="background-color:cornflowerblue">
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.DienThoaiGiaoHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.DiaChiGiaoHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.NgayDatHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.TinhTrang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.KhachHang)
                </th>
                <th style="text-align:center">
                    @Html.DisplayNameFor(model => model.NhanVien)
                </th>
                <th></th>
            </tr>
        </tfoot>
    </table>
</div>
